////
/// (c) hidoo | MIT Lisence
/// @group features
////

/// define sizes in direction groups
/// @param {String} $type ["margin"] - type of options (one of `"margin"`, `"padding"`, `"position"` or `"border"`)
/// @param {List} $values [()] list of value
///
/// @require {function} ununit
///
/// @example scss - scss inputs
///   .selector {
///     @include define-sizes-in-direction-groups($type: "margin", $values: (5px, -5px))
///   }
///
/// @example css - css outputs
///   .selector-vertical-5 {
///     margin-top: 5px !important;
///     margin-bottom: 5px !important;
///   }
///   .selector-vertical-5- {
///     margin-top: -5em !important;
///     margin-bottom: -5em !important;
///   }
///   .selector-horizontal-5 {
///     margin-right: 5px !important;
///     margin-left: 5px !important;
///   }
///   .selector-horizontal-5- {
///     margin-right: -5em !important;
///     margin-left: -5em !important;
///   }
///   .selector-all-5 {
///     margin-top: 5px !important;
///     margin-right: 5px !important;
///     margin-bottom: 5px !important;
///     margin-left: 5px !important;
///   }
///   .selector-all-5- {
///     margin-top: -5em !important;
///     margin-right: -5em !important;
///     margin-bottom: -5em !important;
///     margin-left: -5em !important;
///   }
///
@mixin define-sizes-in-direction-groups($type: "margin", $values: ()) {
  @if not function-exists("ununit") {
    @error "@function ununit is not imported.";
  }

  @if type-of($type) != "string" or not index(("margin", "padding", "position", "border"), $type) {
    @error "@mixin define-sizes-in-direction-groups: Argument $type is not one of margin, padding, position or border. (specified: #{inspect($type)})";
  }

  @if type-of($values) != "list" {
    @error "@mixin define-sizes-in-direction-groups: Argument $values is not list. (specified: #{inspect($values)})";
  }

  $direction-groups: (vertical, horizontal, all);
  $property: if($type == "position", "", "#{$type}-");

  @each $direction-group in $direction-groups {
    @each $value in $values {
      @if $type == "border" {
        @if type-of($value) != "map" or not map-has-key($value, "name") {
          @error "@mixin define-sizes-in-direction-groups: Argument $values is not valid map. (specified: #{inspect($values)})";
        }

        $name: map-get($value, "name");
        $selector: selector-append(&, "-#{$direction-group}-#{$name}");

        @if not map-has-key($value, "size") {
          $value: map-merge($value, ("size": 1px));

          @warn "'size' of #{$selector} is not specified. Using default size.";
        }

        @if not map-has-key($value, "style") {
          $value: map-merge($value, ("style": solid));

          @warn "'style' of #{$selector} is not specified. Using default style.";
        }

        @if not map-has-key($value, "color") {
          $value: map-merge($value, ("color": #000));

          @warn "'color' of #{$selector} is not specified. Using default color.";
        }

        $size: map-get($value, "size");
        $style: map-get($value, "style");
        $color: map-get($value, "color");
        $pure-value: ununit($size);
        $one-with-unit: ($size * 0 + 1);

        @at-root {
          #{$selector} {
            @if $direction-group == "vertical" {
              #{$property}top: $pure-value * $one-with-unit $style $color !important;
              #{$property}bottom: $pure-value * $one-with-unit $style $color !important;
            }
            @else if $direction-group == "horizontal" {
              #{$property}right: $pure-value * $one-with-unit $style $color !important;
              #{$property}left: $pure-value * $one-with-unit $style $color !important;
            }
            @else if $direction-group == "all" {
              #{$property}top: $pure-value * $one-with-unit $style $color !important;
              #{$property}right: $pure-value * $one-with-unit $style $color !important;
              #{$property}bottom: $pure-value * $one-with-unit $style $color !important;
              #{$property}left: $pure-value * $one-with-unit $style $color !important;
            }
          }
        }
      }
      @else {
        $pure-value: ununit($value);
        $sign: if($value < 0, "-", "");
        $one-with-unit: ($value * 0 + 1);

        &-#{$direction-group}-#{abs($pure-value)}#{$sign} {
          @if $direction-group == "vertical" {
            #{$property}top: $pure-value * $one-with-unit !important;
            #{$property}bottom: $pure-value * $one-with-unit !important;
          }
          @else if $direction-group == "horizontal" {
            #{$property}right: $pure-value * $one-with-unit !important;
            #{$property}left: $pure-value * $one-with-unit !important;
          }
          @else if $direction-group == "all" {
            #{$property}top: $pure-value * $one-with-unit !important;
            #{$property}right: $pure-value * $one-with-unit !important;
            #{$property}bottom: $pure-value * $one-with-unit !important;
            #{$property}left: $pure-value * $one-with-unit !important;
          }
        }
      }
    }
  }
}
